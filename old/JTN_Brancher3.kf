;BRANCHER

MAIN:
{
   1 0 GROW -1 = COREE IF
   0 1 GROW -1 = CORES IF
   -1 0 GROW -1 = COREW IF
   0 -1 GROW -1 = COREN IF

   WALK CALL
}
WALK:
{
   7 NEAREST OMOVE POP 1 ?LOOP
}
COREE:
{
   1 0 EAT 0= NOT COREEBRANCH IF
   1 0 GROW -1 = COREE IF
   INFL CALL
}
COREEBRANCH:
{
   0 1 EAT POP
   0 -1 EAT POP
   0 1 GROW -1 = CORES IF
   0 -1 GROW -1 = COREN IF
   INFL CALL
}
CORES:
{
   0 1 EAT 0= NOT CORESBRANCH IF
   0 1 GROW -1 = CORES IF
   INFL CALL
}
CORESBRANCH:
{
   1 0 EAT POP
   -1 0 EAT POP
   1 0 GROW -1 = COREE IF
   -1 0 GROW -1 = COREW IF
   INFL CALL
}
COREW:
{
   -1 0 EAT 0= NOT COREEBRANCH IF
   -1 0 GROW -1 = COREW IF
   INFL CALL
}
COREN:
{
   0 -1 EAT 0= NOT CORESBRANCH IF
   0 -1 GROW -1 = COREN IF
   INFL CALL
}
INFL:
{
   1 ?LOOP
}
